import mongoose from 'mongoose';
import Comment from '../models/Comment.js';
import { connectDB } from '../config/database.js';
import dotenv from 'dotenv';

dotenv.config();

const seedComments = [
  {
    caseId: "case-6",
    author: "à¸™à¸²à¸¢à¸ªà¸¡à¸Šà¸²à¸¢ à¹ƒà¸ˆà¸”à¸µ",
    avatar: "/assets/avatar-1.jpg",
    text: "à¸‚à¸­à¸šà¸„à¸¸à¸“à¸ªà¸³à¸«à¸£à¸±à¸šà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸£à¸°à¹‚à¸¢à¸Šà¸™à¹Œà¸¡à¸²à¸ à¸œà¸¡à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¹ƒà¸à¸¥à¹‰à¹€à¸„à¸µà¸¢à¸‡à¹à¸¥à¸°à¹„à¸”à¹‰à¸£à¸±à¸šà¸œà¸¥à¸à¸£à¸°à¸—à¸šà¸ˆà¸£à¸´à¸‡à¹† à¸«à¸§à¸±à¸‡à¸§à¹ˆà¸²à¸ˆà¸°à¸¡à¸µà¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¸ˆà¸£à¸´à¸‡à¸ˆà¸±à¸‡",
    likes: 12,
    createdAt: new Date("2024-12-15T10:30:00"),
  },
  {
    caseId: "case-6",
    author: "à¸™à¸²à¸‡à¸ªà¸²à¸§à¸§à¸´à¹„à¸¥ à¸£à¸±à¸à¸©à¹Œà¸˜à¸£à¸£à¸¡",
    avatar: "/assets/avatar-2.jpg",
    text: "à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸™à¹à¸œà¸™à¸—à¸µà¹ˆà¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸ªà¸–à¸²à¸™à¸à¸²à¸£à¸“à¹Œà¹„à¸”à¹‰à¸”à¸µà¸‚à¸¶à¹‰à¸™ à¹à¸•à¹ˆà¸­à¸¢à¸²à¸à¹ƒà¸«à¹‰à¸¡à¸µà¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹€à¸à¸´à¹ˆà¸¡à¹€à¸•à¸´à¸¡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸¡à¸²à¸•à¸£à¸à¸²à¸£à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¹à¸¥à¸°à¹à¸à¹‰à¹„à¸‚à¸”à¹‰à¸§à¸¢",
    likes: 8,
    createdAt: new Date("2024-12-14T15:45:00"),
  },
  {
    caseId: "case-6",
    author: "à¸™à¸²à¸¢à¸§à¸´à¸Šà¸±à¸¢ à¸ªà¸¸à¸‚à¹ƒà¸ˆ",
    avatar: "/assets/avatar-3.jpg",
    text: "à¹€à¸›à¹‡à¸™à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸”à¸µà¸¡à¸²à¸ à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸Šà¸¸à¸¡à¸Šà¸™à¹€à¸‚à¹‰à¸²à¹ƒà¸ˆà¸›à¸±à¸à¸«à¸²à¹„à¸”à¹‰à¸Šà¸±à¸”à¹€à¸ˆà¸™à¸‚à¸¶à¹‰à¸™ à¸‚à¸­à¹ƒà¸«à¹‰à¸¡à¸µà¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸•à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¢à¹ˆà¸²à¸‡à¸ªà¸¡à¹ˆà¸³à¹€à¸ªà¸¡à¸­à¸”à¹‰à¸§à¸¢à¸„à¸£à¸±à¸š",
    likes: 15,
    createdAt: new Date("2024-12-13T09:20:00"),
  },
  {
    caseId: "case-6",
    author: "à¸™à¸²à¸‡à¸ªà¸²à¸§à¸¡à¸²à¸¥à¸µ à¹ƒà¸ªà¹ƒà¸ˆ",
    text: "à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¸™à¸³à¹€à¸ªà¸™à¸­à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸›à¹‡à¸™à¸£à¸°à¸šà¸š à¸—à¸³à¹ƒà¸«à¹‰à¹€à¸£à¸²à¸ªà¸²à¸¡à¸²à¸£à¸–à¸•à¸´à¸”à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸à¸²à¸£à¸“à¹Œà¹„à¸”à¹‰à¸‡à¹ˆà¸²à¸¢à¸‚à¸¶à¹‰à¸™ à¸«à¸§à¸±à¸‡à¸§à¹ˆà¸²à¸ˆà¸°à¸¡à¸µà¸à¸²à¸£à¸”à¸³à¹€à¸™à¸´à¸™à¸à¸²à¸£à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¹€à¸£à¹ˆà¸‡à¸”à¹ˆà¸§à¸™",
    likes: 6,
    createdAt: new Date("2024-12-12T14:10:00"),
  },
  {
    caseId: "case-6",
    author: "à¸™à¸²à¸¢à¸›à¸£à¸°à¸¢à¸¸à¸—à¸˜à¹Œ à¸«à¹ˆà¸§à¸‡à¹ƒà¸¢",
    text: "à¸œà¸¥à¸à¸£à¸°à¸—à¸šà¸—à¸µà¹ˆà¹€à¸à¸´à¸”à¸‚à¸¶à¹‰à¸™à¸™à¸µà¹‰à¸ªà¹ˆà¸‡à¸œà¸¥à¸•à¹ˆà¸­à¸§à¸´à¸–à¸µà¸Šà¸µà¸§à¸´à¸•à¸‚à¸­à¸‡à¹€à¸£à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸²à¸ à¸‚à¸­à¹ƒà¸«à¹‰à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸¡à¸²à¸”à¸¹à¹à¸¥à¹à¸¥à¸°à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸­à¸¢à¹ˆà¸²à¸‡à¸ˆà¸£à¸´à¸‡à¸ˆà¸±à¸‡",
    likes: 20,
    createdAt: new Date("2024-12-11T11:30:00"),
  },
  {
    caseId: "case-1",
    author: "à¸™à¸²à¸¢à¸ªà¸¡à¸¨à¸±à¸à¸”à¸´à¹Œ à¸Šà¸²à¸§à¸šà¹‰à¸²à¸™",
    text: "à¸›à¸±à¸à¸«à¸²à¹€à¸«à¸¡à¸·à¸­à¸‡à¸—à¸­à¸‡à¹ƒà¸™à¸à¸·à¹‰à¸™à¸—à¸µà¹ˆà¸‚à¸­à¸‡à¹€à¸£à¸²à¸ªà¹ˆà¸‡à¸œà¸¥à¸à¸£à¸°à¸—à¸šà¸•à¹ˆà¸­à¹à¸«à¸¥à¹ˆà¸‡à¸™à¹‰à¸³à¸¡à¸²à¸«à¸¥à¸²à¸¢à¸›à¸µà¹à¸¥à¹‰à¸§ à¸‚à¸­à¸šà¸„à¸¸à¸“à¸—à¸µà¹ˆà¸™à¸³à¹€à¸ªà¸™à¸­à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸ªà¸²à¸˜à¸²à¸£à¸“à¸°à¹„à¸”à¹‰à¸£à¸±à¸šà¸—à¸£à¸²à¸š",
    likes: 7,
    createdAt: new Date("2024-12-10T16:20:00"),
  },
  {
    caseId: "case-1",
    author: "à¸™à¸²à¸‡à¸ªà¸²à¸§à¸à¸´à¸¡à¸à¹Œà¹ƒà¸ˆ à¸­à¸™à¸¸à¸£à¸±à¸à¸©à¹Œ",
    text: "à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸™à¸³à¹€à¸ªà¸™à¸­à¸¡à¸µà¸„à¸§à¸²à¸¡à¸¥à¸°à¹€à¸­à¸µà¸¢à¸”à¹à¸¥à¸°à¸™à¹ˆà¸²à¹€à¸Šà¸·à¹ˆà¸­à¸–à¸·à¸­ à¸«à¸§à¸±à¸‡à¸§à¹ˆà¸²à¸ˆà¸°à¸Šà¹ˆà¸§à¸¢à¹ƒà¸«à¹‰à¸«à¸™à¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸‚à¹‰à¸­à¸‡à¹€à¸‚à¹‰à¸²à¸¡à¸²à¸”à¸¹à¹à¸¥à¸›à¸±à¸à¸«à¸²à¸™à¸µà¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸ˆà¸£à¸´à¸‡à¸ˆà¸±à¸‡",
    likes: 11,
    createdAt: new Date("2024-12-09T08:45:00"),
  }
];

const seedDatabase = async () => {
  try {
    console.log('ğŸŒ± Starting to seed comments...');
    
    // Connect to database
    await connectDB();
    
    // Clear existing comments (optional - remove this line if you want to keep existing data)
    await Comment.deleteMany({});
    console.log('ğŸ—‘ï¸  Cleared existing comments');
    
    // Insert seed comments
    const insertedComments = await Comment.insertMany(seedComments);
    console.log(`âœ… Successfully seeded ${insertedComments.length} comments`);
    
    // Display summary
    const commentsByCase = await Comment.aggregate([
      {
        $group: {
          _id: '$caseId',
          count: { $sum: 1 },
          totalLikes: { $sum: '$likes' }
        }
      }
    ]);
    
    console.log('\nğŸ“Š Comments summary:');
    commentsByCase.forEach(case => {
      console.log(`   ${case._id}: ${case.count} comments, ${case.totalLikes} total likes`);
    });
    
    console.log('\nğŸ‰ Database seeding completed successfully!');
    process.exit(0);
    
  } catch (error) {
    console.error('âŒ Error seeding database:', error);
    process.exit(1);
  }
};

// Run the seed function if this file is executed directly
// To run: node src/utils/seedComments.js

export default seedDatabase; 